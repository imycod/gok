<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
      .container {
          width: 200px;
          height: 150px;
      }

      .card {
          width: 100%;
          height: 100%;
          border: 1px solid black;
          border-radius: 5px;
      }

      .hover {
          display: block;
      }

      .defalut-state, button {
          display: none;
      }
  </style>
</head>
<body>

<div id="root">
    <div class="container" @mouseenter="mouseenter(idx)" @mouseleave="mouseleave(idx)"
       v-for="(i,idx) in [{is:false},{is:true},{is:false},{is:true}]" :key="idx">
    <card :is-show="i.is" :is-hover="isHover" :index="idx" :hover-index="hoverIndex"></card>
  </div>
</div>
<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@vue/composition-api@1.6.2/dist/vue-composition-api.prod.js"></script>
<script>
const {ref} = VueCompositionAPI;
const card = {
  props: ['isShow', 'isHover', 'index', 'hoverIndex'],
  template: `
    <div class="card">
    <!--   Prank ： zzx for composition-api -->
    <button v-if="isShow"  :class="{'hover':isShowSignBtn,'defalut-state':!isShowSignBtn}">
      badge
    </button>
    </div>
  `,
  computed: {
    isShowSignBtn() {
      return this.isHover && (this.index == this.hoverIndex);
    }
  }
};
<!--   Prank ： zzx for composition-api -->
const hoverHandler = {
  mouseenter(i) {
    this.isHover = true;
    this.hoverIndex = i;
  },
  mouseleave(i) {
    this.isHover = false;
    this.hoverIndex = i;
  },
};

const signBtnVisibleState={
  state:{
    isHover: false,
    hoverIndex: '',
  },
  hoverHandler
}
//参数为对象类型
const vm = new Vue({
  el: "#root",
  data: {
    msg: "hello",
    ...signBtnVisibleState.state
  },
  components: {
    card
  },
  methods: {
    ...signBtnVisibleState.hoverHandler
  }
});
</script>
</body>
</html>
